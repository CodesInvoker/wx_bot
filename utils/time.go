package utils

import (
	"fmt"
	"time"
)

func ParserTimeStr(stringTime string) (time.Time, error) {
	formats := []string{
		"2006年01月02日 15:04:05",
		"2006年01月02日 15:04",
		"2006年01月02日 15:",

		"06.01.02 15:04:05",
		"06.01.02 15:04",
		"06.01.02 15:",

		"2006-01-02",
		"2006-1-02",
		"2006-1-2",
		"2006-1-2 15:04",
		"2006-01-02 15:04",
		"2006-01-02 15:04:05",
		"01-02-06",

		"01/02/06",
		"01/02/2006",
		"1/02/2006",
		"01/2/2006",
		"1/2/2006",
		"01/02/2006 15:04",
		"1/02/2006 15:04",
		"01/2/2006 15:04",
		"1/2/2006 15:04",
		"01/02/2006 15:04:05",
		"1/02/2006 15:04:05",
		"01/2/2006 15:04:05",
		"1/2/2006 15:04:05",

		"2006/01/02",
		"2006/1/02",
		"2006/01/2",
		"2006/1/2",
		"2006/01/02 15:04",
		"2006/1/02 15:04",
		"2006/01/2 15:04",
		"2006/1/2 15:04",
		"2006/01/02 15:04:05",
		"2006/1/02 15:04:05",
		"2006/01/2 15:04:05",
		"2006/1/2 15:04:05",
	}
	loc, _ := time.LoadLocation("Local")
	for _, format := range formats {
		t, err := time.ParseInLocation(format, stringTime, loc)
		if err == nil {
			return t, nil
		}
	}
	return time.Time{}, fmt.Errorf("parse time error")
}

func FormatTime(t time.Time) string {
	return t.Format("2006-01-02 15:04:05")
}
